---
---

<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;600&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    
    {% seo %}

    <script data-host="https://microanalytics.io" data-dnt="false" src="https://microanalytics.io/js/script.js" id="ZwSg9rf6GA" async defer></script>
    <link rel="canonical" href="{{site.url}}{{page.url}}" />
    <link rel="apple-touch-icon" href="{{ site.baseurl }}/assets/img/profile.png">
    <link rel="icon" href="{{ site.baseurl }}/assets/img/favicon.png" type="image/png" sizes="16x16" />
    <link href="{{ site.baseurl }}/assets/css/style.css" rel="stylesheet" media="all" class="default" />
    <link href="{{ site.baseurl }}/assets/css/main.css" rel="stylesheet" media="all" class="default" />
    <link href="{{ site.baseurl }}/assets/css/Util.css" rel="stylesheet" media="all" class="default" />
    <link href="{{ site.baseurl }}/assets/css/vendor/Katex.css" rel="stylesheet" media="all" class="default" />

    <link rel="alternate" type="application/rss+xml" href="{{ site.url }}/feed.xml">
</head>

<body>
    <main>
    {%- include Nav.html -%}
    <section class="section">
        <div class="columns is-centered">

            {%- if page.permalink == "/" -%}
            <div class="column is-8-widescreen  is-8-desktop is-8-tablet is-12-mobile">
                    {%- if site.preferences.homepage.enabled -%}
                            {%- include Homepage.html -%}
                    {%- else -%}
                <div class="column is-6-widescreen  is-8-desktop is-8-tablet is-12-mobile">
                            <h5 class="meta-title"><a href="/">← Voltar</a></h5>
                            <div class="jumbo">{{page.title}}</div>
                            {%- include Content.html -%}
                            {%- include Feed.html -%}
                </div>
                    {%- endif -%}
            </div>
            {%- endif -%}

            {%- if page.feedformat -%}
            <div class="column is-6-widescreen  is-8-desktop is-8-tablet is-12-mobile">
                <h5 class="meta-title"><a href="/">← Voltar</a></h5>
                    <div class="jumbo">{{page.title}}</div>
                    {%- include Content.html -%}
                    {%- include Feed.html -%}
            </div>
            {%- endif -%}

            {%- if page.content_type == "notes" -%}
            <div class="column is-5-widescreen  is-6-desktop is-8-tablet is-12-mobile">
                    <div class="note-page-section">
                        <div>
                            {%- if site.preferences.homepage.enabled -%}
                            <a onclick="window.history.back();">
                            {%- else -%}
                            <a onclick="window.location.assign('/');">
                            {%- endif -%}
                                    <h5 class="meta-title">← VOLTAR</h5>
                            </a>
                        </div>
                    
                    {%- if page.format == "list" -%}
                    <style>
                        li {border-bottom: 1px solid var(--color-border-light); list-style: none; padding: 0.4rem 0 0.4rem 0;}
                        .content ul { padding-left: 0px;}
                        h3 {padding-top: 1rem; padding-bottom: 0rem;}
                    </style>                    
                    {%- endif -%}

                    <h1>{{page.title}}</h1>
                    <p class="post-meta">
                        <a href="{{ '/sobre' | relative_url }}" style="color: inherit; text-decoration: none;">{{ page.author }}</a>
                        &nbsp;&middot;&nbsp;{% include data-formatada.html data=page.date %}
                    </p>
                    
                    <div id="note-content-container">
                        {%- include Content.html -%}
                    </div>
                    
                    <div id="note-footer-meta" class="post-footer-meta" style="display: block; margin-top: 40px;">
                        {% include FooterMeta.html %}
                    </div>

                    {%- include Backlinks.html -%}
                    </div>
            </div>
            {%- endif -%}


{%- if page.permalink == "/posts" -%}
            <div class="column is-6-widescreen is-8-desktop is-8-tablet is-12-mobile">
                
                <div style="margin-bottom: 40px;">
                    <h5 class="meta-title"><a href="/">← Voltar</a></h5>
                    <div class="jumbo" style="margin-bottom: 10px;">{{page.title}}</div>
                    <div style="font-size: 1.1rem; color: var(--color-text-main);">
                        {%- include Content.html -%}
                    </div>
                </div>

                <style>
                    /* === Navegação por ano === */
                    .blog-year-nav {
                        display: flex;
                        flex-wrap: wrap;
                        gap: 4px 0;
                        margin-bottom: 36px;
                        font-size: 0.85rem;
                        line-height: 1;
                    }

                    .blog-year-nav a {
                        color: var(--color-text-sub);
                        text-decoration: none;
                        padding: 4px 8px;
                        border-radius: 4px;
                        transition: color 0.15s, background-color 0.15s;
                    }

                    .blog-year-nav a:hover {
                        color: var(--color-text-main);
                        background-color: var(--color-bg-sub);
                    }

                    .blog-year-nav .separator {
                        color: var(--color-border-light);
                        padding: 4px 2px;
                        user-select: none;
                    }

                    /* === Cabeçalho de ano === */
                    .blog-year-header {
                        font-size: 1.8rem;
                        font-weight: 700;
                        color: var(--color-text-main);
                        margin-top: 50px;
                        margin-bottom: 20px;
                        opacity: 0.8;
                        scroll-margin-top: 24px;
                    }

                    .blog-year-divider {
                        border: none;
                        border-top: 1px solid var(--color-border-light);
                        margin-top: 40px;
                        margin-bottom: 0;
                    }

                    /* === Item de post === */
                    .blog-post-item {
                        display: flex;
                        align-items: baseline;
                        margin-bottom: 12px;
                        line-height: 1.5;
                    }

                    .blog-post-date {
                        flex: 0 0 70px;
                        font-family: monospace;
                        font-size: 0.85rem;
                        color: var(--color-text-sub);
                        padding-right: 15px;
                        white-space: nowrap;
                        text-transform: lowercase;
                    }

                    .blog-post-link {
                        flex: 1;
                    }

                    .blog-post-link a {
                        color: var(--color-text-link);
                        text-decoration: underline;
                        font-weight: 500;
                        font-size: 1.05rem;
                    }

                    .blog-post-link a:hover {
                        color: var(--color-text-main);
                        background-color: var(--color-bg-sub);
                    }

                    /* === Post mais recente com destaque === */
                    .blog-post-item.is-latest {
                        padding: 14px 0 14px 14px;
                        border-left: 3px solid var(--color-text-link);
                        margin-bottom: 20px;
                    }

                    .blog-post-item.is-latest .blog-post-link a {
                        font-size: 1.15rem;
                        font-weight: 600;
                    }

                    .blog-post-excerpt {
                        font-size: 0.92rem;
                        color: var(--color-text-sub);
                        margin-top: 4px;
                        line-height: 1.45;
                    }

                    /* === Excerpt: wrapper flex com coluna para título + excerpt === */
                    .blog-post-link-with-excerpt {
                        flex: 1;
                        display: flex;
                        flex-direction: column;
                    }

                    /* === Botão voltar ao topo === */
                    .back-to-top {
                        position: fixed;
                        bottom: 28px;
                        right: 28px;
                        width: 40px;
                        height: 40px;
                        border-radius: 50%;
                        background: var(--color-bg-sub, #f0f0f0);
                        border: 1px solid var(--color-border-light, #ddd);
                        color: var(--color-text-sub);
                        font-size: 1.1rem;
                        cursor: pointer;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        opacity: 0;
                        visibility: hidden;
                        transition: opacity 0.25s, visibility 0.25s, background-color 0.15s;
                        z-index: 100;
                        line-height: 1;
                    }

                    .back-to-top.is-visible {
                        opacity: 1;
                        visibility: visible;
                    }

                    .back-to-top:hover {
                        background: var(--color-text-link);
                        color: #fff;
                        border-color: var(--color-text-link);
                    }

                    @media (max-width: 768px) {
                        .back-to-top {
                            bottom: 18px;
                            right: 18px;
                            width: 36px;
                            height: 36px;
                            font-size: 1rem;
                        }
                    }
                </style>

                {% assign postsByYear = site.posts | group_by_exp: "post", "post.date | date: '%Y'" %}
                
                <!-- Sugestão 4: Navegação rápida por ano -->
                <nav class="blog-year-nav" aria-label="Navegar por ano">
                    {% for year in postsByYear %}
                        {% unless forloop.first %}<span class="separator">·</span>{% endunless %}
                        <a href="#ano-{{ year.name }}">{{ year.name }}</a>
                    {% endfor %}
                </nav>

                {% assign total_post_count = 0 %}
                {% for year in postsByYear %}
                    
                    <!-- Sugestão 5: Separador entre anos (exceto antes do primeiro) -->
                    {% unless forloop.first %}
                        <hr class="blog-year-divider">
                    {% endunless %}

                    <h2 class="blog-year-header" id="ano-{{ year.name }}">{{ year.name }}</h2>
                    
                    <div class="blog-year-list">
                        {% for post in year.items %}
                        {% assign total_post_count = total_post_count | plus: 1 %}
                        {% assign show_excerpt = false %}
                        
                        <!-- Sugestão 1 & 2: Excerpt e destaque nos 5 primeiros posts -->
                        {% if total_post_count <= 5 %}
                            {% assign show_excerpt = true %}
                        {% endif %}

                        <div class="blog-post-item{% if total_post_count == 1 %} is-latest{% endif %}">
                            
                            <!-- Sugestão 6: Data compacta em linha única (ex: "03 fev") -->
                            <div class="blog-post-date">
                                {{ post.date | date: "%d" }}&nbsp;{% assign m = post.date | date: "%-m" %}{% case m %}{% when '1' %}jan{% when '2' %}fev{% when '3' %}mar{% when '4' %}abr{% when '5' %}mai{% when '6' %}jun{% when '7' %}jul{% when '8' %}ago{% when '9' %}set{% when '10' %}out{% when '11' %}nov{% when '12' %}dez{% endcase %}
                            </div>

                            {% if show_excerpt %}
                            <div class="blog-post-link-with-excerpt">
                                <div class="blog-post-link">
                                    <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                                </div>
                                {% if post.excerpt %}
                                <div class="blog-post-excerpt">
                                    {{ post.excerpt | strip_html | truncatewords: 20 }}
                                </div>
                                {% endif %}
                            </div>
                            {% else %}
                            <div class="blog-post-link">
                                <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                            </div>
                            {% endif %}
                        </div>
                        {% endfor %}
                    </div>
                {% endfor %}

                <!-- Sugestão 7: Botão voltar ao topo -->
                <button class="back-to-top" id="backToTop" aria-label="Voltar ao topo" title="Voltar ao topo">↑</button>

                <script>
                (function() {
                    var btn = document.getElementById('backToTop');
                    if (!btn) return;
                    var threshold = 600;

                    window.addEventListener('scroll', function() {
                        if (window.scrollY > threshold) {
                            btn.classList.add('is-visible');
                        } else {
                            btn.classList.remove('is-visible');
                        }
                    }, { passive: true });

                    btn.addEventListener('click', function() {
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    });
                })();
                </script>

            </div> 
            {%- endif -%}

             {%- if page.content_type == "post"  -%}
             <div class="column is-5-widescreen  is-6-desktop is-8-tablet is-12-mobile">
                     <div class="note-page-section">
                         <div>
                             {%- if site.preferences.homepage.enabled -%}
                             <a onclick="window.history.back();">
                             {%- else -%}
                             <a onclick="window.location.assign('/');">
                             {%- endif -%}
                                     <h5 class="meta-title">← VOLTAR</h5>
                             </a>
                         </div>
                     <h1>{{page.title}}</h1>
                     <p class="post-meta">
                        <a href="{{ '/sobre' | relative_url }}" style="color: inherit; text-decoration: none;">{{ page.author }}</a>
                        &nbsp;&middot;&nbsp;{% include data-formatada.html data=page.date %}
                     </p>
                     
                     <div id="post-content-container">
                        {%- include Content.html -%}
                     </div>

                     <div id="post-footer-meta" class="post-footer-meta" style="display: none;">
                        {% include FooterMeta.html %}
                     </div>

                     <script>
                        document.addEventListener("DOMContentLoaded", function() {
                            const metaBlock = document.getElementById('post-footer-meta');
                            const contentContainer = document.getElementById('post-content-container');
                            
                            const dateElements = document.querySelectorAll('.access-date-dynamic');
                            const today = new Date().toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit', year: 'numeric' });
                            dateElements.forEach(el => el.textContent = today);

                            if (contentContainer && metaBlock) {
                                const headings = contentContainer.querySelectorAll('h1, h2, h3, h4, h5, p, strong, em');
                                let targetNode = null;

                                for (let node of headings) {
                                    if (node.innerText && node.innerText.toLowerCase().includes('leia também')) {
                                        targetNode = node;
                                        if ((node.tagName === 'STRONG' || node.tagName === 'EM') && node.parentElement.tagName === 'P') {
                                            targetNode = node.parentElement;
                                        }
                                        break;
                                    }
                                }

                                if (targetNode) {
                                    targetNode.parentNode.insertBefore(metaBlock, targetNode);
                                } else {
                                    contentContainer.appendChild(metaBlock);
                                }
                                
                                metaBlock.style.display = 'block';
                            }
                        });

                        function copyCitation() {
                            const citationText = document.querySelector('.citation-text').innerText;
                            navigator.clipboard.writeText(citationText).then(() => {
                                const btns = document.querySelectorAll('.copy-btn');
                                btns.forEach(btn => {
                                    const originalText = btn.textContent;
                                    btn.textContent = "COPIADO!";
                                    btn.style.borderColor = "var(--color-text-link)";
                                    btn.style.color = "var(--color-text-link)";
                                    setTimeout(() => { 
                                        btn.textContent = originalText; 
                                        btn.style.borderColor = "";
                                        btn.style.color = "";
                                    }, 2500);
                                });
                            });
                        }
                     </script>

                     {%- include Backlinks.html -%}
                     </div>
             </div>
             {%- endif -%}

            {%- if page.content_type == "static" -%}
            <div class="column is-5-widescreen  is-6-desktop is-8-tablet is-12-mobile">
                        <div class="jumbo">{{page.title}}</div>                        
                        {%- include Content.html -%}
                </div>
            {%- endif -%}
        </div>
    </section>    
    {%- include Footer.html -%}             
</main>
</body>
</html>
